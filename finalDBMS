drop table if exists sessions;

CREATE TABLE IF NOT EXISTS "sessions" (
    "sid" varchar NOT NULL COLLATE "default" primary key,
    "sess" json NOT NULL,
    "expire" timestamp(6) NOT NULL
);


drop table if exists Users;

create table Users(
    userid bigint primary key,
    username varchar(255) unique not NULL,
    email varchar(255) unique not NULL,
    password varchar(255) not NULL
);

drop table if exists category;

create table category(
	clothingType varchar(50) primary key,
	clothingSeason varchar(20)
);


drop table if exists ClothingItem;

create table ClothingItem(
	item_ID serial primary key,
	userid bigint,
    ImageUpload varchar(255),
    colorName varchar(30),
	colorCode varchar(20),
    ClothesSize varchar(5),
    FabricType varchar(25),
    ClothingType varchar(50),
    description text,
    constraint userid foreign key (userid) references users(userid),
    constraint clothingtype foreign key (clothingtype) references category(clothingtype)
);


drop table if exists outfit;
create table outfit(
	outfitID serial primary key,
	userid bigint,
	outfitName varchar(15),
	notes text,
	
	constraint username foreign key (userid) references users(userid)
);

drop table if exists outfit_clothes;
create table outfit_Clothes(
	outfit_ID serial,
	item_ID serial,
	
	constraint outfit foreign key(outfit_ID) references outfit(outfitID),
	constraint clothingitem foreign key(item_id) references clothingitem(item_ID)

);

drop table if exists occasion;
create table occasion(
	occasion_ID serial primary key,
	occasionName varchar(15),
	userid bigint,
	colorName varchar(30),
	description text,
	
	constraint username foreign key (userid) references users(userid)	
	
);


select * from category;
select * from clothingitem;
select * from users;